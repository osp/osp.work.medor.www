define("scribe-plugin-link-prompt-command",[],function(){return function(){return function(e){var n=new e.api.Command("createLink");n.nodeName="A",n.execute=function(){var n=new e.api.Selection,t=n.range,i=n.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this)),o=i?i.href:"",a=window.prompt("Enter a link.",o);if(i&&(t.selectNode(i),n.selection.removeAllRanges(),n.selection.addRange(t)),a){var r=/^https?\:\/\//,d=/^mailto\:/;if(!r.test(a)&&!d.test(a))if(/@/.test(a)){var m=window.confirm("The URL you entered appears to be an email address. Do you want to add the required “mailto:” prefix?");m&&(a="mailto:"+a)}else{var p=window.confirm("The URL you entered appears to be a link. Do you want to add the required “http://” prefix?");p&&(a="http://"+a)}e.api.SimpleCommand.prototype.execute.call(this,a)}},n.queryState=function(){var n=new e.api.Selection;return!!n.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this))},e.commands.linkPrompt=n}}});
//# sourceMappingURL=scribe-plugin-link-prompt-command.min.js.map